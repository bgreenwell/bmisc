{
    "contents" : "##' NumPy style matrix function\n##'\n##' Returns a matrix from a character vector or list of vectors.\n##' \n##' @examples\n##' ## Using character vectors\n##' mat('1, 2, 3; 4, 5, 6')  # similar to numpy.mat from Python extension NumPy\n##' (m <- mat(paste('exp(', 1:9, ')')))\n##' resize(m, 3, 3)\n##' resize(m, 3, 3, byrow = FALSE)\n##' matrix(exp(1:9), 3, 3)\n##' \n##' ## Using a list\n##' mat(list(1:3, 4:6, 7:9))\nmat <- function(x, ...) {\n  UseMethod(\"mat\")\n}\n\n##' @rdname mat\n##' @export\n##' @method mat character\nmat.character <- function(x) {\n  \n  ## Gather rows and individual values\n  char_rows <- unlist(strsplit(x, split = \";\"))\n  values <- unname(unlist(sapply(char_rows, strsplit, split = \",\")))\n  \n  ## Form matrix from parsed values by calling R's built-in matrix function\n  matrix(sapply(values, function(x) eval(parse(text = x))), \n         nrow = length(char_rows), byrow = TRUE)\n  \n}\n\n##' @rdname mat\n##' @export\n##' @method mat list\nmat.list <- function(x, rows = TRUE) {\n  \n  ## Check element types\n  if (!all(sapply(x, class) %in% c(\"numeric\", \"integer\"))) {\n    stop(\"Each element must be of type 'numeric' or 'integer'.\", call. = FALSE)\n  }\n  \n  ## Check length of each element\n  if (!all(sapply(x, length) >= 1) && length(unique(sapply(x, length))) != 1) {\n    stop(\"Each element must contain at least one value.\", call. = FALSE)\n  }\n  \n  ## Form matrix by combining elements\n  if (rows) do.call(rbind, x) else do.call(cbind, x)\n  \n}\n\n##' Resize a given matrix\n##' \n##' Returns a new matrix of dimension nrows by ncols using the elements of x.\nresize <- function(x, nrows = nrow(x), ncols = ncol(x), byrow = TRUE) {\n  if (nrows * ncols != length(x)) stop(\"dimension mismatch.\", call. = FALSE)\n  if (!inherits(x, \"matrix\")) stop(\"x must be of class 'matrix'.\", call. = FALSE)\n  attr(x, \"dim\") <- c(nrows, ncols)\n  if (byrow) t(x) else x\n}",
    "created" : 1417013808440.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2238722549",
    "id" : "7994EF81",
    "lastKnownWriteTime" : 1417018888,
    "path" : "~/Desktop/Dropbox/devel/misc/R/mat.R",
    "project_path" : "R/mat.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}